<nav>
  <div class="container-fluid">
    <div class="navbar-left">
      <a class="navbar-brand" href="/">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="logo-icon">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
        </svg>
        Malware Scanner
      </a>
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="/about">About</a></li>
        <li class="nav-item"><a class="nav-link" href="/contact">Contact</a></li>
        <li class="nav-item d-none" id="adminLink"><a class="nav-link" href="/admin">Admin</a></li>
      </ul>
    </div>
    <div class="navbar-right">
      <ul class="navbar-nav">
        <li class="nav-item" id="loginLink"><a class="nav-link" href="/login">Login</a></li>
        <li class="nav-item" id="registerLink"><a class="nav-link" href="/register">Register</a></li>
        <li class="nav-item d-none" id="logoutLink">
          <form action="/logout" method="GET" style="margin: 0; padding: 0;">
            <button type="submit" class="nav-link" style="background: none; border: none; cursor: pointer;">Logout</button>
          </form>
        </li>
      </ul>
    </div>
  </div>
</nav>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const userRole = sessionStorage.getItem('userRole');
    
    // Highlight active page
    const currentPath = window.location.pathname;
    document.querySelectorAll('.nav-link').forEach(link => {
      if (link.getAttribute('href') === currentPath) {
        link.classList.add('active');
      }
    });

    // Default: hide protected links, show login/register
    document.getElementById('adminLink').classList.add('d-none');
    document.getElementById('loginLink').classList.remove('d-none');
    document.getElementById('registerLink').classList.remove('d-none');
    document.getElementById('logoutLink').classList.add('d-none');

    if (userRole === 'user' || userRole === 'admin') {
      document.getElementById('loginLink').classList.add('d-none');
      document.getElementById('registerLink').classList.add('d-none');
      document.getElementById('logoutLink').classList.remove('d-none');
    }

    if (userRole === 'admin') {
      document.getElementById('adminLink').classList.remove('d-none');
    }
  });
</script>



